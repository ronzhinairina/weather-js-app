{"version":3,"sources":["utills/weather-api.js","components/form/form.js","components/layout/layout.js","components/weather-card/weather-card.js","component-register.js","main.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["WeatherApi","lat","lon","fetch","apiKey","then","res","json","temperature","main","temp","place","name","country","sys","feels_like","pressure","humidity","description","weather","CoordinatesForm","render","initEventListeners","form","document","querySelector","innerHTML","addEventListener","onSubmit","e","preventDefault","elements","value","getWeatherByCoordinates","console","log","event","CustomEvent","bubbles","detail","dispatchEvent","HTMLElement","Layout","weatherCards","map","card","data","JSON","stringify","join","weatherCardsToRender","initListeners","body","classList","length","pop","unshift","WeatherCard","parse","getAttribute","registerComponents","customElements","define","selector","getElementById","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","i","module"],"mappings":"AMAA,ACAA,AFAA,ICAIiE,ACAAY,MAAM,EFAE,CCAC,ACAAC,GDAG,IAAI,ACAA,CAAC,cAAc,CAAC;ADCpC,ACCA,SDDSZ,ACCAa,UAAU,CAACC,IAAI,EAAE,CDDC,GAAG;ADC9B,ECAE,ACCA,IDDI,ACCAC,CDDChB,MCCM,GDDG,ACCAe,EDDE,ECCE,CAACE,SAAS,EAAE;AFChC,EEAED,EDDEhB,KCCK,AFAAxD,CEAC0E,GDDG,ADCA,GCDGhB,ACCA,AFAA,GEAG,SDDS,EAAE,CCCC;EDA7B,ADCA,EEAEa,EFAFpB,EEAM,CAACwB,MAAM,EAAE,0BFAG,GAAE;ECCpB,ACAA,AFAA5D,CEAC,MDAMyC,CDAC,CAACD,OCAO,ODAO,CAAC,KAAK,CAAC,CAACtC,SAAS,8BAA8B;ACCxE,AFPA,AHAA,ACAA,ACAA,AEOA,EEAEuD,OAAO,CAACI,IAAI,GAAGL,IAAI,CAACK,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGC,IAAI,CAACC,GAAG,EAAE;ADE3D,AFRA,AHAA,ACAA,ACD4B,AES5B/E,EEDEuE,EFCE,EEDE,AFCA,CEDCS,EDCEtB,QCDQ,CAACuB,GDCG,GAAG,MCDM,CAACT,OAAO,EAAED,IAAI,CAACW,WAAW,CAAC;AACzD,AHPA,AHDoB,ACAE,ACDM,EGU1B;ACCF,AHPO,AHHa,ACAE,ACDM,EGW1B,ECAEC,AHPShC,EEOP,QCAQ,GAAG,IAAI,CHPU,GAAG,SAArBA,kBAAkB,GAAS;AGQxC,ANXoB,ACAE,ACDM,ECKxBC,EEOA,ANZS7D,KOYJ6F,CDAC,IAAIzB,ANZS,EIKL,CAACN,CGOD,CDAC,ECAE,EHPI,CAACpB,cAAM,CAACqB,QAAQ,EAAErB,cAAM,CAAC;AHJ9B,ACAE,ACDM,EGa1B,ACAA,AHPEmB,AJNmB,CMapB,CAAC,ECAE+B,KDAKvB,GAAG,EAAE,ACAA,AHPE,CAACP,CGOD,KHPO,CAAC1C,qBAAe,CAAC2C,QAAQ,EAAE3C,qBAAe,CAAC;AHLhD,ACAE,ACDM,ECOxByC,EEOA,ACAA,APdmB,IMcfS,OAAO,CFPG,CAACR,CEOD,CAAC,EAAE,EFPI,CEODO,AFPEZ,GEOC,CAACc,KAAK,EAAEC,KAAK,CAAC,OFPJ,CAACT,QAAQ,EAAEN,wBAAW,CAAC,oBEO4C,CAAC;AFNzG,AHPoB,ACAE,ACDM,CCQ3B,CGOC,APfqB,EMenB,IAAIa,OAAO,EAAE;AFPhB,AHPmB,ACAE,ACDM,EIiB1BsB,APjBqB,IMgBjB,MCCM,CDDCnB,ECCEqB,QDDQ,CAACxB,CCCC,CAAC,KDDK,CAAC,CAAC,CAAC,CAAC,GCCG;ANhBlB,ACAE,ACDM,IGiBxB,ACCA,APlBmB,IOkBfyB,KAAK,GAAGvE,QAAQ,CAACwE,gBAAgB,CAAC,wBAAwB,CAAC;ANjB/C,ACAE,ACDM,EGkB1B,ECCE,APnBmB,KOmBd,EPjBL,EOiBSC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,KAAK,CAACzC,MAAM,EAAE2C,CAAC,EAAE,EAAE,CPjBRhG,GAAG,EAAEC,GAAG,EAAE;ACDzB,ACAE,ACDM,EGoB1B,ICAI,APjBE,GMiBC,CCAC2E,EDAE,CNjBG1E,GOiBC,CAACsE,CPjBG,SOiBO,CAACsB,KAAK,CAACE,CAAC,CAAC,CAACZ,IAAI,CAAC,KAAKR,MAAM,CAACV,YAAY,EAAE,EAAE,wBPjBmBlE,GAAG,kBAAQC,GAAG,oBAAU,IAAI,CAACE,MAAM,EAAG,CAClHC,IAAI,CAAC,UAAAC,GAAG;AMiBrB,ALpBoB,ACAE,ACDM,QIqBpByE,APjBa,OAAIzE,GOiBP,APjBU,COiBTyF,APjBUxF,IAAI,COiBT,CAAC0F,APjBU,COiBT,CAAC,CAAC;ADE5B,ALtBoB,ACAE,ACDM,MIsBtB,APlB6B,EAAC,CMmB3BxB,ANlBIpE,IAAI,CAAC,KMkBC,CAACqE,GAAG,CNlBLpE,CMkBO,ENlBJ,EAAI;ACJL,ACAE,ACDM,EGwB1B,ECDE,IPjBY,CMkBP,CAAC,EAAE,GAAGoE,ANlBQ,GMkBL,EAAEC,OAAO,CAAC,gFAAgF,EAAE,IAAI,CAAC,GAAG,GAAG;AACzH,ALxBoB,ACAE,ACDM,IIyBxBiB,MPlBgBpF,IOkBN,GAAG,IAAI,APlBU,EAAEF,GAAG,CAACG,IAAI,CAACC,IAAI;AMoB9CkE,AL1BoB,ACAE,ACDM,EI0B1B,CAAC,CJxBUnB,CIwBR,EDCE,ACDA,CDCCU,ACDA,EPlBYxD,KGNI,AHMC,EAAEL,GMmBP,ANnBU,CAACM,EMmBRsD,ENnBY,gBMmBM;AACzCU,ACDA,AN1BoB,ACAE,ECCE,EFCXxD,ACAAsB,GIyBN,CAAC+B,EJzBW,AFMC5D,OAAO,CMmBT,CLzBU,ADMCP,EMmBRmE,CNnBW,CAAC3D,GAAG,CAACD,IMmBN,GNnBa;AOoB5CqF,EN1B4B,ACAT,ACDK,II2BlB,CAACtB,GPnBa7D,IOmBN,GAAG8E,GPnBa,EAAEvF,GAAG,COmBT,APnBUG,IAAI,CAACM,UAAU;ECPvB,ACAT,ACEf,QHMgBC,QAAQ,EAAEV,GAAG,CAACG,CGNhB,GHMoB,CAACO,QAAQ;ECH3C,ACOF,ECVgB,MHOEC,QAAQ,EEGZ,AFHcX,GAAG,CAACG,IAAI,CCJpB,ADIqBQ,QAAQ;ICJ7B,ACOF,ACVE,MHQEC,WAAW,EAAEZ,GAAG,CAACa,OAAO,CAAC,CAAC,CAAC,CAACV;ICL9B,ACOF,ACTR,IHQQ,CAAC;ICLT,ACOJ,ACTI,EHQI,CAAC,CAAC,EGRDY,MAAM,EAAE;IFEL,ACOJ,ACTU,AHSlB,+DEVa,EAAE;ECEf,AHQC,ECPW,ACHG,4DDAH,KAAK,MCEI,YAAM;ECA1B,AHQA,ECNG,ECDJ,IDCSA,GCDF,GDCQ,EAAE,CCDLsB,YAAY,CAACC,GAAG,CAAC,UAAAC,IAAI,EAAI;AFOpC,ICLG,AEHH,IDEC,EDCOvB,ECDDwB,IAAI,GAAGC,IAAI,CAACC,IDCO,EAAE,GCDA,CAACH,IAAI,CAAC;AFMlC,ICJG,AEJH,IDGC,EDCOtB,CEFT,GFEa,GAAGC,QAAQ,CAACC,GEFhB,UFE6B,CAAC,QCDJqB,IAAI,ODCmB,CAAC;ADI1D,ICJ2D,ECA5D,ACDI,CDCH,CAAC,CAACG,CCDK,CAACvB,EDCF,CAAC,EFZC1B,EEYG,CAAC,CCDK,MHXC,YACH,kCAAkC,kIGaP,IAAI,CAAC8C,IAAI,CAACnC,KAAK,qEACZ,IAAI,CAACmC,IAAI,CAACtC,WAAW,8aASf,IAAI,CAACsC,IAAI,CAAC/B,UAAU,+WAMpB,IAAI,CAAC+B,IAAI,CAAC9B,QAAQ,wUAMlB,IAAI,CAAC8B,IAAI,CAAC7B,QAAQ,+GAK3D;EF5BX,ECAF,AC6BE,CD7BD;EDAE,AE6BA,EDzBD,MAAKI,MAAM,EAAE;IDJZ,ACIa,ACyBb;EDxBH,EDLG,AE6BA,KAMD,EFjCA,aEiCW,KFjCF;ECGV,IDFK,AEiCA,IFjCI,CAACK,EEiCEqB,IAAI,CAACW,EFjCE,GEiCG,CAAC,IAAI,CAACC,YAAY,CAAC,MAAM,CAAC,CAAC,krBF1BrC;IACX,ACND,ACgCC;EF1BC,AE0BA,EDhCF,OAED,kBAAS;IDIN,AE0BA,ED7BD,IAAI,CAACjC,SAAS,oQAMA,IAAI,CAACwB,oBAAoB,EAAE,wDAIjC;IDPP,AE0BA,EDjBD,GCWA,CDXI,CDPJ,ACOKC,aAAa,ACWc,EDXZ,eDPC;ICQvB,EDPM3B,AEkBA,OAAO,CFlBC,AEkBCsB,CFlBArB,GEkBI,CAAE,SFlBO,CAAC,gBAAgB,CAAC,CAACE,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAACC,QAAQ,CAAC;ECOtF,EDNC,AEkBA;EFlBC,AEkBA,EDZF;ECYE,EFlBA,ACMF,OAED,yBAAgB;ACUb,IFlBA,ECQa,KDNd,kBAASC,CAAC,EAAE,CE5BiBY,WAAW;AAAA,MF4B5B,ACOZjB,QAAQ,CAACC,aAAa,CAAC,mBAAmB,CAAC,CAACE,gBAAgB,CAAC,qBAAqB,EAAE,UAACS,KAAK,EAAK;ACnCvD,MF6BpCP,CAAC,CAACC,ACOJN,QAAQ,ACpCDiC,CDoCEL,IAAI,CDPK,ACOJC,EDPM,GE7BF,IDoCK,GAAG,CAACjB,KAAK,CAACG,ACnCjB,MDmCuB,CAACrB,WAAW,ACnCjB,CDmCkB;MDNlD,ECOF,EDPQjB,ECOJmC,CDPO,GAAG,CCOL,CAACG,EDPQ,CAAChB,GCOH,CDPO,CAACQ,ACON,QDPc,CAAC,CAAC,CAAC,CAACC,KAAK;MACvC,IAAM9B,ACON,GDPS,CCOL,EDPQ,IAAI,ACOR,CDPSqB,ACORoB,IDPY,CAACZ,OCOD,CDPS,ACORuB,CDPS,CAAC,CAAC,CAACtB,ECON,GDPW,CCOP,CAAC,EAAE;MDNnChC,MCOE,MAAI,CAAC2C,SDPG,CAACV,ECOQ,CAACsB,GAAG,EAAE,eDPS,CAACtD,GAAG,EAAEC,GAAG,CAAC,CACvCG,IAAI,CAAC,UAACC,GAAG,EAAK;QACX4B,ECMR,KDNe,CAACC,GAAG,CAAC,MAAM,CAAC;QACnB,ECMR,EDNcC,ICMV,CDNe,ACMdO,GDNiB,IAAIN,KCMT,CAACmB,KDNmB,CAAC,CCMb,CAACpB,KAAK,CAACG,MAAM,CAAC,MDNoB,EAAE;UACjDD,ACMZ,MAAI,CDNe,ACMdjB,EDNgB,IAAI,ACMd,EAAE;QACf,EDNckB,MAAM,EAAEjC;MCOxB,CAAC,CDNW,ACMV,CDNW,CAAC;ICOhB,IDNc,MAAI,CAACkC,aAAa,CAACJ,KAAK,CAAC;ECMtC,IDLS,CAAC,CAAC;ECKX,EDJC;ACID,EDJE,+BCxCuBK,WAAW;AAAA,EDwClC;AAAA,ACxCkC,gBAA1BC,MAAM,WDAkBD,GCCjB,QDD4B,ICChB;ADDgB;AAAA,gBAAnCrB,eAAe,cACN,UAAU","file":"main.1f19ae8e.js","sourceRoot":"..\\src","sourcesContent":["export class WeatherApi {\r\n    static apiKey = '0b34dea43c97053790b116a5a22120e9';\r\n    static getWeatherByCoordinates(lat, lon) {\r\n        return fetch(`https://api.openweathermap.org/data/2.5/weather?units=metric&lat=${lat}&lon=${lon}&appid=${this.apiKey}`)\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                return {\r\n                    temperature: res.main.temp,\r\n                    place: res.name,\r\n                    country: res.sys.country,\r\n                    feels_like: res.main.feels_like,\r\n                    pressure: res.main.pressure,\r\n                    humidity: res.main.humidity,\r\n                    description: res.weather[0].main\r\n                }\r\n            })\r\n    }\r\n}","import { WeatherApi } from \"../../utills/weather-api\"\r\nimport './form.css';\r\n\r\nexport class CoordinatesForm extends HTMLElement {\r\n    static selector = 'app-form';\r\n    form;\r\n    formValid = false;\r\n\r\n    constructor() {\r\n        super();\r\n        this.render();\r\n        this.initEventListeners();\r\n        this.form = document.querySelector('.input__container');\r\n    }\r\n\r\n    render() {\r\n        this.innerHTML = `<section class=\"input\">\r\n        <form class=\"input__container\">\r\n            <h1 class=\"input__container__title\">Введите данные</h1>\r\n            <input id='lat' class=\"input__container__input\" type=\"text\" required placeholder=\"Широта\">\r\n            <input id='lon' class=\"input__container__input\" type=\"text\" required placeholder=\"Долгота\">\r\n            <button id='submit-button' class=\"input__container__input-submit\" type=\"submit\">Показать погоду</button>\r\n        </form>\r\n    </section>`;\r\n    }\r\n\r\n    initEventListeners() {\r\n        document.querySelector('#submit-button').addEventListener('click', this.onSubmit);\r\n    }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        const lat = this.form.elements[0].value;\r\n        const lon = this.form.elements[1].value;\r\n        WeatherApi.getWeatherByCoordinates(lat, lon)\r\n            .then((res) => {\r\n                console.log('form');\r\n                const event = new CustomEvent('weather-form-submit', {\r\n                    bubbles: true,\r\n                    detail: res\r\n                });\r\n                this.dispatchEvent(event);\r\n            });\r\n    }\r\n}","import { WeatherApi } from \"../../utills/weather-api\"\r\nimport './layout.css';\r\n\r\nexport class Layout extends HTMLElement {\r\n  static selector = 'app-layout'\r\n\r\n  weatherCards = [];\r\n\r\n  weatherCardsToRender = () => {\r\n    return this.weatherCards.map(card => {\r\n      const data = JSON.stringify(card);\r\n      return `<app-weather-card data=${data}></app-weather-card>`\r\n    }).join('\\n')\r\n  }\r\n\r\n  constructor() {\r\n    super();\r\n    this.render();\r\n  }\r\n\r\n  render() {\r\n    this.innerHTML = `<main>\r\n        <div class=\"main__container\">\r\n            <div class=\"main__container-left\">\r\n                <app-form id='coordinates-form'></app-form>\r\n            </div>\r\n            <div class=\"main__container-right\">\r\n                ${this.weatherCardsToRender()}\r\n            </div>\r\n\r\n        </div>\r\n    </main>`;\r\n\r\n    this.initListeners();\r\n  }\r\n\r\n  initListeners() {\r\n    document.querySelector('#coordinates-form').addEventListener('weather-form-submit', (event) => {\r\n      document.body.classList = [event.detail.description]\r\n      if (event.detail) {\r\n        if (this.weatherCards.length == 2) {\r\n          this.weatherCards.pop();\r\n        }\r\n        this.weatherCards.unshift(event.detail);\r\n        this.render();\r\n      }\r\n    })\r\n  }\r\n}","import './weather-card.css';\r\n\r\nexport class WeatherCard extends HTMLElement {\r\n    static selector = 'app-weather-card'\r\n\r\n    constructor() {\r\n        super();\r\n        this.render();\r\n    }\r\n\r\n    render() {\r\n        this.innerHTML = `<section class=\"widget\">\r\n        <div class=\"widget__container\">\r\n            <div class=\"widget__container-top\">\r\n                <p class=\"widget__text-city\">${this.data.place}</p>\r\n                <p class=\"widget__text-degrees\">${this.data.temperature}°</p>\r\n            </div>\r\n\r\n            <p class=\"widget__text-weather\">Погода</p>\r\n\r\n            <ul>\r\n                <li>\r\n                    <div class=\"widget__container-top\">\r\n                        <p class=\"widget__text-parameter\">Ощущается как:</p>\r\n                        <p class=\"widget__text-value\">${this.data.feels_like}°</p>\r\n                    </div>\r\n                </li>\r\n                <li>\r\n                    <div class=\"widget__container-top\">\r\n                        <p class=\"widget__text-parameter\">Давление, мм рт. ст:</p>\r\n                        <p class=\"widget__text-value\">${this.data.pressure}</p>\r\n                    </div>\r\n                </li>\r\n                <li>\r\n                    <div class=\"widget__container-top\">\r\n                        <p class=\"widget__text-parameter\">Влажность:</p>\r\n                        <p class=\"widget__text-value\">${this.data.humidity}</p>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </section>`;\r\n    }\r\n\r\n    static get observedAttributes() {\r\n        return [ data ];\r\n    }\r\n\r\n    get data() {\r\n        return JSON.parse(this.getAttribute('data'));\r\n    }\r\n}","import { CoordinatesForm } from './components/form/form';\r\nimport { Layout } from './components/layout/layout';\r\nimport { WeatherCard } from './components/weather-card/weather-card';\r\n\r\nexport const registerComponents = () => {\r\n    customElements.define(Layout.selector, Layout);\r\n    customElements.define(CoordinatesForm.selector, CoordinatesForm);\r\n    customElements.define(WeatherCard.selector, WeatherCard);\r\n}","'use strict';\n\nimport { registerComponents } from \"./component-register\";\n\nfunction main() {\n  registerComponents();\n  document.getElementById('app').innerHTML = `<app-layout></app-layout>`\n}\n\nmain();\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)?\\/[^/]+(?:\\?.*)?$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}